!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.orb=t()}}(function(){var t,o,n;return function e(t,o,n){function r(i,c){if(!o[i]){if(!t[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=o[i]={exports:{}};t[i][0].call(l.exports,function(o){var n=t[i][1][o];return r(n?n:o)},l,l.exports,e,t,o,n)}return o[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,o,n){o.exports=t("./src/orb.js")},{"./src/orb.js":10}],2:[function(t,o,n){var e=["1972-07-01T00:00:00.000Z","1973-01-01T00:00:00.000Z","1974-01-01T00:00:00.000Z","1975-01-01T00:00:00.000Z","1976-01-01T00:00:00.000Z","1977-01-01T00:00:00.000Z","1978-01-01T00:00:00.000Z","1979-01-01T00:00:00.000Z","1980-01-01T00:00:00.000Z","1981-07-01T00:00:00.000Z","1982-07-01T00:00:00.000Z","1983-07-01T00:00:00.000Z","1985-07-01T00:00:00.000Z","1988-01-01T00:00:00.000Z","1990-01-01T00:00:00.000Z","1991-01-01T00:00:00.000Z","1992-07-01T00:00:00.000Z","1993-07-01T00:00:00.000Z","1994-07-01T00:00:00.000Z","1996-01-01T00:00:00.000Z","1997-07-01T00:00:00.000Z","1999-01-01T00:00:00.000Z","2006-01-01T00:00:00.000Z","2009-01-01T00:00:00.000Z","2012-07-01T00:00:00.000Z"].map(function(t){return new Date(t).getTime()});o.exports=function r(t){return t=t?t instanceof Date?t.getTime():isFinite(t)?+t:new Date(t).getTime():Date.now(),e.reduce(function(o,n){return t>=n?o+1:o},10)}},{}],3:[function(t,o,n){o.exports={name:"orbjs",version:"0.1.3",description:"orb offers a few simple methods for several common problems of orbital mechanics",keywords:["orbit","orbital mechanics","orbit determination"],homepage:"https://github.com/benelsen/orb",author:{name:"Ben Elsen",url:"http://benelsen.com"},repository:{type:"git",url:"https://github.com/benelsen/orb.git"},main:"index.js",dependencies:{leapseconds:"^1.1.0"},devDependencies:{browserify:"^6.3.3","complexity-report":"^1.0.6",jshint:"^2.5.10",mocha:"^2.0.1",should:"^4.3.0","uglify-js":"^2.4.15"},scripts:{test:"node_modules/.bin/mocha --recursive --reporter spec --require should",prepublish:"make build test jshint -B"},license:"MIT"}},{}],4:[function(t,o,n){var e={};e.deg2rad=function(t){return t*Math.PI/180},e.rad2deg=function(t){return 180*t/Math.PI},n.angular=e},{}],5:[function(t,o,n){var e={},r=t("./angular").angular;for(var a in r)e[a]=r[a];n.common=e},{"./angular":4}],6:[function(t,o,n){var e={c:299792458,G:6.67428e-11};n.common=e},{}],7:[function(t,o,n){var e={a:6378136.6,f:.003352819697896193,invf:298.25642,e:.08181930087617338,e2:.006694397995865785,J2:.0010826359,"ω":729211514670698e-19,M:5.9721986e24,GM:3986004418e5,"ε0":23.439279444444445,"θ0":4.894961212823756};e.grs80={GM:3986005e8,a:6378137,J2:.00108263,"ω":7292115e-11,f:.0033528106811836376,invf:298.2572221008827,e:.08181919104283185,e2:.006694380022903416},e.wgs84={a:6378137,f:.0033528106647474805,invf:298.257223563,e:.08181919084262149,e2:.0066943799901413165},n.earth=e},{}],8:[function(t,o,n){var e={};e.common=t("./common").common,e.earth=t("./earth").earth,e.time=t("./time").time,n.constants=e},{"./common":6,"./earth":7,"./time":9}],9:[function(t,o,n){var e={MJDJD:-2400000.5,TTTAI:32.184,DUT1:-.4,TAIUTC:35,TAIGPS:19};n.time=e},{}],10:[function(t,o,n){var e={version:t("../package.json").version};e.common=t("./common").common,e.constants=t("./constants").constants,e.time=t("./time").time,e.vector=e.v=t("./vector").vector,e.transformations=t("./transformations").transformations,e.position=t("./position").position,o.exports=e},{"../package.json":3,"./common":5,"./constants":8,"./position":11,"./time":16,"./transformations":21,"./vector":26}],11:[function(t,o,n){var e={};e.simple=t("./simple").simple,e.keplerEquation=t("./keplerEquation").keplerEquation,n.position=e},{"./keplerEquation":12,"./simple":13}],12:[function(t,o,n){var e=function(t,o){var n;n=.8>t?o:Math.PI;for(var e=1,r=0;Math.abs(e)>1e-18&&100>r;)e=(o+t*Math.sin(n)-n)/(1-t*Math.cos(n)),n+=e,r++;return n};n.keplerEquation=e},{}],13:[function(t,o,n){var e=t("../constants").constants,r=t("./keplerEquation").keplerEquation,a=t("../transformations/orbitalPlaneToInertial").orbitalPlaneToInertial,i=function(t,o,n,i,c,s,u,l,h,f){l||(l=0);var T=e.earth.GM;h&&(T=e.common.G*h),f&&(T=e.common.G*(h+f));var p=t*(1-o*o),M=Math.sqrt(T/Math.pow(t,3)),m=l+M*(s-u),d=r(o,m),v=2*Math.atan(Math.sqrt((1+o)/(1-o))*Math.tan(d/2)),x=p/(1+o*Math.cos(v)),I=[x*Math.cos(v),x*Math.sin(v),0],g=[-Math.sqrt(T/p)*Math.sin(v),Math.sqrt(T/p)*(o+Math.cos(v)),0],b=a(I,i,c,n),P=a(g,i,c,n);return[b,P]};n.simple=i},{"../constants":8,"../transformations/orbitalPlaneToInertial":23,"./keplerEquation":12}],14:[function(t,o,n){var e=t("../constants/time").time,r=t("./leapSeconds").leapSeconds,a={};a.JDtoMJD=function(t){return t+e.MJDJD},a.MJDtoJD=function(t){return t-e.MJDJD},a.TAItoTT=function(t){return t+e.TTTAI},a.TTtoTAI=function(t){return t-e.TTTAI},a.TAItoUTC=function(t){return t-r(new Date(1e3*t))},a.UTCtoTAI=function(t){return t+r(new Date(1e3*t))},a.TAItoGPS=function(t){return t-e.TAIGPS},a.GPStoTAI=function(t){return t+e.TAIGPS},a.UTCtoGPS=function(t){return a.TAItoGPS(a.UTCtoTAI(t))},a.GPStoUTC=function(t){return a.TAItoUTC(a.GPStoTAI(t))},n.conversions=a},{"../constants/time":9,"./leapSeconds":17}],15:[function(t,o,n){var e=function(t){var o,n,e,r;if(t instanceof Array)o=t[0],n=t[1],e=t[2],r=t[3]+t[4]/60+t[5]/3600;else{if(!(t instanceof Date))throw new Error("date is of invalid type");o=t.getUTCFullYear(),n=t.getUTCMonth()+1,e=t.getUTCDate(),r=t.getUTCHours()+t.getUTCMinutes()/60+t.getUTCSeconds()/3600}var a=n>2?o:o-1,i=n>2?n:n+12,c=2-Math.floor(a/100)+Math.floor(a/400),s=Math.floor(365.25*a)+Math.floor(30.6001*(i+1))+e+c+1720994.5;return s+r/24};n.dateToJD=e},{}],16:[function(t,o,n){var e={},r=t("./conversions").conversions;for(var a in r)e[a]=r[a];e.leapSeconds=t("./leapSeconds").leapSeconds,e.dateToJD=t("./dateToJD").dateToJD,n.time=e},{"./conversions":14,"./dateToJD":15,"./leapSeconds":17}],17:[function(t,o,n){n.leapSeconds=t("leapseconds")},{leapseconds:2}],18:[function(t,o,n){var e=t("../constants/earth").earth,r=function(t,o,n){(void 0===o||void 0===n)&&(o=e.a,n=e.e);var r=Math.sqrt(o*o*(1-n*n));return[o*Math.cos(t[1])*Math.cos(t[0]),o*Math.cos(t[1])*Math.sin(t[0]),r*Math.sin(t[1])]},a=function(t,o,n){(void 0===o||void 0===n)&&(o=e.a,n=e.e);var r=Math.sqrt(t[0]*t[0]+t[1]*t[1]),a=Math.sqrt(o*o*(1-n*n));return[Math.atan2(t[1],t[0]),Math.atan2(t[2]*o,r*a)]};n.ellipsoidalToCartesian=r,n.cartesianToEllipsoidal=a},{"../constants/earth":7}],19:[function(t,o,n){var e=t("../constants/earth").earth,r=t("./geodetic").geodeticToCartesian,a=t("../vector").vector,i=function(t,o,n,i,c){n||(n=e.a),i||0===i||(i=e.e);var s=r(o,n,i),u=t.map(function(t,o){return t-s[o]}),l;return l=c?a.mm(a.r(Math.PI/2-o[1],2),a.r(o[0],3)):a.mm(a.q(1),a.mm(a.r(Math.PI/2-o[1],2),a.r(o[0],3))),a.mm(l,u)},c=function(t,o,n,i,c){n||(n=e.a),i||0===i||(i=e.e);var s=r(o,n,i),u;u=c?a.mm(a.r(-o[0],3),a.r(o[1]-Math.PI/2,2)):a.mm(a.mm(a.r(-o[0],3),a.r(o[1]-Math.PI/2,2)),a.q(1));var l=a.mm(u,t);return l.map(function(t,o){return t+s[o]})};n.fixedToTopocentric=i,n.topocentricToFixed=c},{"../constants/earth":7,"../vector":26,"./geodetic":20}],20:[function(t,o,n){var e=t("../constants/earth").earth,r=function(t,o,n){(void 0===o||void 0===n)&&(o=e.a,n=e.e);var r=o/Math.sqrt(1-Math.pow(n*Math.sin(t[1]),2));return[(r+t[2])*Math.cos(t[1])*Math.cos(t[0]),(r+t[2])*Math.cos(t[1])*Math.sin(t[0]),(r*(1-n*n)+t[2])*Math.sin(t[1])]},a=function(t,o,n){(void 0===o||void 0===n)&&(o=e.a,n=e.e);for(var r=Math.atan2(t[1],t[0]),a=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.atan2(t[2],a),c,s,u=0;100>u;){c=o/Math.sqrt(1-Math.pow(n*Math.sin(i),2));var l=t[2]+n*n*c*Math.sin(i);if(s=Math.atan2(l,a),Math.abs(s-i)<1e-15)break;i=s,u++}var h=a/Math.cos(s)-c;return[r,s,h]};n.geodeticToCartesian=r,n.cartesianToGeodetic=a},{"../constants/earth":7}],21:[function(t,o,n){var e={};e.sphericalToCartesian=t("./spherical").sphericalToCartesian,e.cartesianToSpherical=t("./spherical").cartesianToSpherical,e.ellipsoidalToCartesian=t("./ellipsoidal").ellipsoidalToCartesian,e.cartesianToEllipsoidal=t("./ellipsoidal").cartesianToEllipsoidal,e.geodeticToCartesian=t("./geodetic").geodeticToCartesian,e.cartesianToGeodetic=t("./geodetic").cartesianToGeodetic,e.fixedToTopocentric=t("./fixedToTopocentric").fixedToTopocentric,e.topocentricToFixed=t("./fixedToTopocentric").topocentricToFixed,e.inertialToFixed=t("./inertialToFixed").inertialToFixed,e.fixedToInertial=t("./inertialToFixed").fixedToInertial,e.orbitalPlaneToInertial=t("./orbitalPlaneToInertial").orbitalPlaneToInertial,e.topocentricToHorizontal=t("./topocentricToHorizontal").topocentricToHorizontal,e.horizontalToTopocentric=t("./topocentricToHorizontal").horizontalToTopocentric,n.transformations=e},{"./ellipsoidal":18,"./fixedToTopocentric":19,"./geodetic":20,"./inertialToFixed":22,"./orbitalPlaneToInertial":23,"./spherical":24,"./topocentricToHorizontal":25}],22:[function(t,o,n){var e=t("../constants/earth").earth,r=t("../vector").vector,a=function(t,o,n,a){return a||(a=3),n||(n=e.ω),r.mm(r.r(n*o,3),t)},i=function(t,o,n,e){return a(t,o,-n,e)};n.inertialToFixed=a,n.fixedToInertial=i},{"../constants/earth":7,"../vector":26}],23:[function(t,o,n){var e=t("../vector").vector,r=function(t,o,n,r){return e.mm(e.r(-o,3),e.mm(e.r(-r,1),e.mm(e.r(-n,3),t)))};n.orbitalPlaneToInertial=r},{"../vector":26}],24:[function(t,o,n){var e=function(t){return[t[2]*Math.cos(t[1])*Math.cos(t[0]),t[2]*Math.cos(t[1])*Math.sin(t[0]),t[2]*Math.sin(t[1])]},r=function(t){return[Math.atan2(t[1],t[0]),Math.atan2(t[2],Math.sqrt(t[0]*t[0]+t[1]*t[1])),Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])]};n.sphericalToCartesian=e,n.cartesianToSpherical=r},{}],25:[function(t,o,n){var e=function(t){var o=(2*Math.PI+Math.atan2(t[1],t[0]))%(2*Math.PI);return[o,Math.atan2(t[2],Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))),Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))]},r=function(t){return[t[2]*Math.cos(t[1])*Math.cos(t[0]),t[2]*Math.cos(t[1])*Math.sin(t[0]),t[2]*Math.sin(t[1])]};n.topocentricToHorizontal=e,n.horizontalToTopocentric=r},{}],26:[function(t,o,n){var e={};e.matrixMultiplication=e.mm=t("./matrixMultiplication").matrixMultiplication,e.mirrorMatrix=e.q=t("./mirrorMatrix").mirrorMatrix,e.rotationMatrix=e.r=t("./rotationMatrix").rotationMatrix,n.vector=e},{"./matrixMultiplication":27,"./mirrorMatrix":28,"./rotationMatrix":29}],27:[function(t,o,n){var e=function(t,o){return 9===o.length?[t[0]*o[0]+t[1]*o[3]+t[2]*o[6],t[0]*o[1]+t[1]*o[4]+t[2]*o[7],t[0]*o[2]+t[1]*o[5]+t[2]*o[8],t[3]*o[0]+t[4]*o[3]+t[5]*o[6],t[3]*o[1]+t[4]*o[4]+t[5]*o[7],t[3]*o[2]+t[4]*o[5]+t[5]*o[8],t[6]*o[0]+t[7]*o[3]+t[8]*o[6],t[6]*o[1]+t[7]*o[4]+t[8]*o[7],t[6]*o[2]+t[7]*o[5]+t[8]*o[8]]:3===o.length?[t[0]*o[0]+t[1]*o[1]+t[2]*o[2],t[3]*o[0]+t[4]*o[1]+t[5]*o[2],t[6]*o[0]+t[7]*o[1]+t[8]*o[2]]:null};n.matrixMultiplication=e},{}],28:[function(t,o,n){var e=function(t){var o=[1,0,0,0,1,0,0,0,1];return o[4*--t]*=-1,o};n.mirrorMatrix=e},{}],29:[function(t,o,n){var e=function(t,o){t%=2*Math.PI;var n,e;switch(0===t?(n=1,e=0):t===Math.PI/2||t===-1.5*Math.PI?(n=0,e=1):t===Math.PI||t===-Math.PI?(n=-1,e=0):t===1.5*Math.PI||t===-Math.PI/2?(n=0,e=-1):(n=Math.cos(t),e=Math.sin(t)),o){case 1:return[1,0,0,0,n,e,0,-e,n];case 2:return[n,0,-e,0,1,0,e,0,n];case 3:return[n,e,0,-e,n,0,0,0,1];default:throw new Error("rotation axis has to be 1, 2 or 3")}};n.rotationMatrix=e},{}]},{},[1])(1)});
//# sourceMappingURL=dist/orb.min.js.map