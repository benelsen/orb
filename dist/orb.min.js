!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.orb=t()}}(function(){var t,n,o;return function e(t,n,o){function a(i,c){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(r)return r(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(n){var o=t[i][1][n];return a(o?o:n)},u,u.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(t,n,o){n.exports=t("./src/orb.js")},{"./src/orb.js":9}],2:[function(t,n,o){n.exports={name:"orb",version:"0.1.3",description:"orb offers a few simple methods for several common problems of orbital mechanics",keywords:["orbit","orbital mechanics","orbit determination"],homepage:"",author:{name:"Ben Elsen",url:"http://benelsen.com"},repository:{type:"git",url:"https://github.com/benelsen/orb.git"},main:"index.js",dependencies:{},devDependencies:{browserify:"^6.3.3","complexity-report":"^1.0.6",jshint:"^2.5.10",mocha:"^2.0.1",should:"^4.3.0","uglify-js":"^2.4.15"},scripts:{test:"node_modules/.bin/mocha --recursive --reporter spec --require should",prepublish:"make build test jshint -B"},license:"MIT"}},{}],3:[function(t,n,o){var e={};e.deg2rad=function(t){return t*Math.PI/180},e.rad2deg=function(t){return 180*t/Math.PI},o.angular=e},{}],4:[function(t,n,o){var e={},a=t("./angular").angular;for(var r in a)e[r]=a[r];o.common=e},{"./angular":3}],5:[function(t,n,o){var e={c:299792458,G:6.67428e-11};o.common=e},{}],6:[function(t,n,o){var e={a:6378136.6,f:.003352819697896193,invf:298.25642,e:.08181930087617338,e2:.006694397995865785,J2:.0010826359,"ω":729211514670698e-19,M:5.9721986e24,GM:3986004418e5,"ε0":23.439279444444445,"θ0":4.894961212823756};e.grs80={GM:3986005e8,a:6378137,J2:.00108263,"ω":7292115e-11,f:.0033528106811836376,invf:298.2572221008827,e:.08181919104283185,e2:.006694380022903416},e.wgs84={a:6378137,f:.0033528106647474805,invf:298.257223563,e:.08181919084262149,e2:.0066943799901413165},o.earth=e},{}],7:[function(t,n,o){var e={};e.common=t("./common").common,e.earth=t("./earth").earth,e.time=t("./time").time,o.constants=e},{"./common":5,"./earth":6,"./time":8}],8:[function(t,n,o){var e={MJDJD:-2400000.5,TTTAI:32.184,DUT1:-.3,TAIUTC:35,TAIGPS:19};o.time=e},{}],9:[function(t,n,o){var e={version:t("../package.json").version};e.common=t("./common").common,e.constants=t("./constants").constants,e.time=t("./time").time,e.vector=e.v=t("./vector").vector,e.transformations=t("./transformations").transformations,e.position=t("./position").position,n.exports=e},{"../package.json":2,"./common":4,"./constants":7,"./position":10,"./time":15,"./transformations":20,"./vector":25}],10:[function(t,n,o){var e={};e.simple=t("./simple").simple,e.keplerEquation=t("./keplerEquation").keplerEquation,o.position=e},{"./keplerEquation":11,"./simple":12}],11:[function(t,n,o){var e=function(t,n){var o;o=.8>t?n:Math.PI;for(var e=1,a=0;Math.abs(e)>1e-18&&100>a;)e=(n+t*Math.sin(o)-o)/(1-t*Math.cos(o)),o+=e,a++;return o};o.keplerEquation=e},{}],12:[function(t,n,o){var e=t("../constants").constants,a=t("./keplerEquation").keplerEquation,r=t("../transformations/orbitalPlaneToInertial").orbitalPlaneToInertial,i=function(t,n,o,i,c,s,l,u,h,f){u||(u=0);var T=e.earth.GM;h&&(T=e.common.G*h),f&&(T=e.common.G*(h+f));var M=t*(1-n*n),p=Math.sqrt(T/Math.pow(t,3)),m=u+p*(s-l),d=a(n,m),v=2*Math.atan(Math.sqrt((1+n)/(1-n))*Math.tan(d/2)),w=M/(1+n*Math.cos(v)),D=[w*Math.cos(v),w*Math.sin(v),0],x=[-Math.sqrt(T/M)*Math.sin(v),Math.sqrt(T/M)*(n+Math.cos(v)),0],I=r(D,i,c,o),g=r(x,i,c,o);return[I,g]};o.simple=i},{"../constants":7,"../transformations/orbitalPlaneToInertial":22,"./keplerEquation":11}],13:[function(t,n,o){var e=t("../constants/time").time,a=t("./leapSeconds").leapSeconds,r={};r.JDtoMJD=function(t){return t+e.MJDJD},r.MJDtoJD=function(t){return t-e.MJDJD},r.TAItoTT=function(t){return t+e.TTTAI},r.TTtoTAI=function(t){return t-e.TTTAI},r.TAItoUTC=function(t){return t-a(new Date(1e3*t))},r.UTCtoTAI=function(t){return t+a(new Date(1e3*t))},r.TAItoGPS=function(t){return t-e.TAIGPS},r.GPStoTAI=function(t){return t+e.TAIGPS},r.UTCtoGPS=function(t){return r.TAItoGPS(r.UTCtoTAI(t))},r.GPStoUTC=function(t){return r.TAItoUTC(r.GPStoTAI(t))},o.conversions=r},{"../constants/time":8,"./leapSeconds":16}],14:[function(t,n,o){var e=function(t){var n,o,e,a;if(t instanceof Array)n=t[0],o=t[1],e=t[2],a=t[3]+t[4]/60+t[5]/3600;else{if(!(t instanceof Date))throw new Error("date is of invalid type");n=t.getUTCFullYear(),o=t.getUTCMonth()+1,e=t.getUTCDate(),a=t.getUTCHours()+t.getUTCMinutes()/60+t.getUTCSeconds()/3600}var r=o>2?n:n-1,i=o>2?o:o+12,c=2-Math.floor(r/100)+Math.floor(r/400),s=Math.floor(365.25*r)+Math.floor(30.6001*(i+1))+e+c+1720994.5;return s+a/24};o.dateToJD=e},{}],15:[function(t,n,o){var e={},a=t("./conversions").conversions;for(var r in a)e[r]=a[r];e.leapSeconds=t("./leapSeconds").leapSeconds,e.dateToJD=t("./dateToJD").dateToJD,o.time=e},{"./conversions":13,"./dateToJD":14,"./leapSeconds":16}],16:[function(t,n,o){var e=[new Date("1972-06-30T23:59:59.999Z"),new Date("1972-12-31T23:59:59.999Z"),new Date("1973-12-31T23:59:59.999Z"),new Date("1974-12-31T23:59:59.999Z"),new Date("1975-12-31T23:59:59.999Z"),new Date("1976-12-31T23:59:59.999Z"),new Date("1977-12-31T23:59:59.999Z"),new Date("1978-12-31T23:59:59.999Z"),new Date("1979-12-31T23:59:59.999Z"),new Date("1981-06-30T23:59:59.999Z"),new Date("1982-06-30T23:59:59.999Z"),new Date("1983-06-30T23:59:59.999Z"),new Date("1985-06-30T23:59:59.999Z"),new Date("1987-12-31T23:59:59.999Z"),new Date("1989-12-31T23:59:59.999Z"),new Date("1990-12-31T23:59:59.999Z"),new Date("1992-06-30T23:59:59.999Z"),new Date("1993-06-30T23:59:59.999Z"),new Date("1994-06-30T23:59:59.999Z"),new Date("1995-12-31T23:59:59.999Z"),new Date("1997-06-30T23:59:59.999Z"),new Date("1998-12-31T23:59:59.999Z"),new Date("2005-12-31T23:59:59.999Z"),new Date("2008-12-31T23:59:59.999Z"),new Date("2012-06-30T23:59:59.999Z")],a=function(t){return 10+e.filter(function(n){return t>n}).length};o.leapSeconds=a},{}],17:[function(t,n,o){var e=t("../constants/earth").earth,a=function(t,n,o){(void 0===n||void 0===o)&&(n=e.a,o=e.e);var a=Math.sqrt(n*n*(1-o*o));return[n*Math.cos(t[1])*Math.cos(t[0]),n*Math.cos(t[1])*Math.sin(t[0]),a*Math.sin(t[1])]},r=function(t,n,o){(void 0===n||void 0===o)&&(n=e.a,o=e.e);var a=Math.sqrt(t[0]*t[0]+t[1]*t[1]),r=Math.sqrt(n*n*(1-o*o));return[Math.atan2(t[1],t[0]),Math.atan2(t[2]*n,a*r)]};o.ellipsoidalToCartesian=a,o.cartesianToEllipsoidal=r},{"../constants/earth":6}],18:[function(t,n,o){var e=t("../constants/earth").earth,a=t("./geodetic").geodeticToCartesian,r=t("../vector").vector,i=function(t,n,o,i,c){o||(o=e.a),i||0===i||(i=e.e);var s=a(n,o,i),l=t.map(function(t,n){return t-s[n]}),u;return u=c?r.mm(r.r(Math.PI/2-n[1],2),r.r(n[0],3)):r.mm(r.q(1),r.mm(r.r(Math.PI/2-n[1],2),r.r(n[0],3))),r.mm(u,l)},c=function(t,n,o,i,c){o||(o=e.a),i||0===i||(i=e.e);var s=a(n,o,i),l;l=c?r.mm(r.r(-n[0],3),r.r(n[1]-Math.PI/2,2)):r.mm(r.mm(r.r(-n[0],3),r.r(n[1]-Math.PI/2,2)),r.q(1));var u=r.mm(l,t);return u.map(function(t,n){return t+s[n]})};o.fixedToTopocentric=i,o.topocentricToFixed=c},{"../constants/earth":6,"../vector":25,"./geodetic":19}],19:[function(t,n,o){var e=t("../constants/earth").earth,a=function(t,n,o){(void 0===n||void 0===o)&&(n=e.a,o=e.e);var a=n/Math.sqrt(1-Math.pow(o*Math.sin(t[1]),2));return[(a+t[2])*Math.cos(t[1])*Math.cos(t[0]),(a+t[2])*Math.cos(t[1])*Math.sin(t[0]),(a*(1-o*o)+t[2])*Math.sin(t[1])]},r=function(t,n,o){(void 0===n||void 0===o)&&(n=e.a,o=e.e);for(var a=Math.atan2(t[1],t[0]),r=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.atan2(t[2],r),c,s,l=0;100>l;){c=n/Math.sqrt(1-Math.pow(o*Math.sin(i),2));var u=t[2]+o*o*c*Math.sin(i);if(s=Math.atan2(u,r),Math.abs(s-i)<1e-15)break;i=s,l++}var h=r/Math.cos(s)-c;return[a,s,h]};o.geodeticToCartesian=a,o.cartesianToGeodetic=r},{"../constants/earth":6}],20:[function(t,n,o){var e={};e.sphericalToCartesian=t("./spherical").sphericalToCartesian,e.cartesianToSpherical=t("./spherical").cartesianToSpherical,e.ellipsoidalToCartesian=t("./ellipsoidal").ellipsoidalToCartesian,e.cartesianToEllipsoidal=t("./ellipsoidal").cartesianToEllipsoidal,e.geodeticToCartesian=t("./geodetic").geodeticToCartesian,e.cartesianToGeodetic=t("./geodetic").cartesianToGeodetic,e.fixedToTopocentric=t("./fixedToTopocentric").fixedToTopocentric,e.topocentricToFixed=t("./fixedToTopocentric").topocentricToFixed,e.inertialToFixed=t("./inertialToFixed").inertialToFixed,e.fixedToInertial=t("./inertialToFixed").fixedToInertial,e.orbitalPlaneToInertial=t("./orbitalPlaneToInertial").orbitalPlaneToInertial,e.topocentricToHorizontal=t("./topocentricToHorizontal").topocentricToHorizontal,e.horizontalToTopocentric=t("./topocentricToHorizontal").horizontalToTopocentric,o.transformations=e},{"./ellipsoidal":17,"./fixedToTopocentric":18,"./geodetic":19,"./inertialToFixed":21,"./orbitalPlaneToInertial":22,"./spherical":23,"./topocentricToHorizontal":24}],21:[function(t,n,o){var e=t("../constants/earth").earth,a=t("../vector").vector,r=function(t,n,o,r){return r||(r=3),o||(o=e.ω),a.mm(a.r(o*n,3),t)},i=function(t,n,o,e){return r(t,n,-o,e)};o.inertialToFixed=r,o.fixedToInertial=i},{"../constants/earth":6,"../vector":25}],22:[function(t,n,o){var e=t("../vector").vector,a=function(t,n,o,a){return e.mm(e.r(-n,3),e.mm(e.r(-a,1),e.mm(e.r(-o,3),t)))};o.orbitalPlaneToInertial=a},{"../vector":25}],23:[function(t,n,o){var e=function(t){return[t[2]*Math.cos(t[1])*Math.cos(t[0]),t[2]*Math.cos(t[1])*Math.sin(t[0]),t[2]*Math.sin(t[1])]},a=function(t){return[Math.atan2(t[1],t[0]),Math.atan2(t[2],Math.sqrt(t[0]*t[0]+t[1]*t[1])),Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])]};o.sphericalToCartesian=e,o.cartesianToSpherical=a},{}],24:[function(t,n,o){var e=function(t){var n=(2*Math.PI+Math.atan2(t[1],t[0]))%(2*Math.PI);return[n,Math.atan2(t[2],Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))),Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))]},a=function(t){return[t[2]*Math.cos(t[1])*Math.cos(t[0]),t[2]*Math.cos(t[1])*Math.sin(t[0]),t[2]*Math.sin(t[1])]};o.topocentricToHorizontal=e,o.horizontalToTopocentric=a},{}],25:[function(t,n,o){var e={};e.matrixMultiplication=e.mm=t("./matrixMultiplication").matrixMultiplication,e.mirrorMatrix=e.q=t("./mirrorMatrix").mirrorMatrix,e.rotationMatrix=e.r=t("./rotationMatrix").rotationMatrix,o.vector=e},{"./matrixMultiplication":26,"./mirrorMatrix":27,"./rotationMatrix":28}],26:[function(t,n,o){var e=function(t,n){return 9===n.length?[t[0]*n[0]+t[1]*n[3]+t[2]*n[6],t[0]*n[1]+t[1]*n[4]+t[2]*n[7],t[0]*n[2]+t[1]*n[5]+t[2]*n[8],t[3]*n[0]+t[4]*n[3]+t[5]*n[6],t[3]*n[1]+t[4]*n[4]+t[5]*n[7],t[3]*n[2]+t[4]*n[5]+t[5]*n[8],t[6]*n[0]+t[7]*n[3]+t[8]*n[6],t[6]*n[1]+t[7]*n[4]+t[8]*n[7],t[6]*n[2]+t[7]*n[5]+t[8]*n[8]]:3===n.length?[t[0]*n[0]+t[1]*n[1]+t[2]*n[2],t[3]*n[0]+t[4]*n[1]+t[5]*n[2],t[6]*n[0]+t[7]*n[1]+t[8]*n[2]]:null};o.matrixMultiplication=e},{}],27:[function(t,n,o){var e=function(t){var n=[1,0,0,0,1,0,0,0,1];return n[4*--t]*=-1,n};o.mirrorMatrix=e},{}],28:[function(t,n,o){var e=function(t,n){t%=2*Math.PI;var o,e;switch(0===t?(o=1,e=0):t===Math.PI/2||t===-1.5*Math.PI?(o=0,e=1):t===Math.PI||t===-Math.PI?(o=-1,e=0):t===1.5*Math.PI||t===-Math.PI/2?(o=0,e=-1):(o=Math.cos(t),e=Math.sin(t)),n){case 1:return[1,0,0,0,o,e,0,-e,o];case 2:return[o,0,-e,0,1,0,e,0,o];case 3:return[o,e,0,-e,o,0,0,0,1];default:throw new Error("rotation axis has to be 1, 2 or 3")}};o.rotationMatrix=e},{}]},{},[1])(1)});
//# sourceMappingURL=dist/orb.min.js.map