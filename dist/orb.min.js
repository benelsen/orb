!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.orb=t()}}(function(){var t,e,a;return function r(t,e,a){function o(u,i){if(!e[u]){if(!t[u]){var l="function"==typeof require&&require;if(!i&&l)return l(u,!0);if(n)return n(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=e[u]={exports:{}};t[u][0].call(f.exports,function(e){var a=t[u][1][e];return o(a?a:e)},f,f.exports,r,t,e,a)}return e[u].exports}for(var n="function"==typeof require&&require,u=0;u<a.length;u++)o(a[u]);return o}({1:[function(t,e,a){var r=["1972-07-01T00:00:00.000Z","1973-01-01T00:00:00.000Z","1974-01-01T00:00:00.000Z","1975-01-01T00:00:00.000Z","1976-01-01T00:00:00.000Z","1977-01-01T00:00:00.000Z","1978-01-01T00:00:00.000Z","1979-01-01T00:00:00.000Z","1980-01-01T00:00:00.000Z","1981-07-01T00:00:00.000Z","1982-07-01T00:00:00.000Z","1983-07-01T00:00:00.000Z","1985-07-01T00:00:00.000Z","1988-01-01T00:00:00.000Z","1990-01-01T00:00:00.000Z","1991-01-01T00:00:00.000Z","1992-07-01T00:00:00.000Z","1993-07-01T00:00:00.000Z","1994-07-01T00:00:00.000Z","1996-01-01T00:00:00.000Z","1997-07-01T00:00:00.000Z","1999-01-01T00:00:00.000Z","2006-01-01T00:00:00.000Z","2009-01-01T00:00:00.000Z","2012-07-01T00:00:00.000Z","2015-07-01T00:00:00.000Z"].map(function(t){return new Date(t).getTime()});e.exports=function o(t){return t=t?t instanceof Date?t.getTime():isFinite(t)?+t:new Date(t).getTime():Date.now(),r.reduce(function(e,a){return t>=a?e+1:e},10)}},{}],2:[function(t,e,a){"use strict";function r(t){return t*Math.PI/180}function o(t){return 180*t/Math.PI}Object.defineProperty(a,"__esModule",{value:!0}),a.deg2rad=r,a.rad2deg=o},{}],3:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./angular"),o={deg2rad:r.deg2rad,rad2deg:r.rad2deg};a["default"]=o,e.exports=a["default"]},{"./angular":2}],4:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=299792458;a.c=r;var o=6.67384e-11;a.G=o},{}],5:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={a:6378136.6,f:.003352819697896193,invf:298.25642,e:.08181930087617338,e2:.006694397995865785,J2:.0010826359,"ω":729211514670698e-19,M:5.9721986e24,GM:3986004418e5,"ε0":23.439279444444445,"θ0":4.894961212823756};r.grs80={GM:3986005e8,a:6378137,J2:.00108263,"ω":7292115e-11,f:.0033528106811836376,invf:298.2572221008827,e:.08181919104283185,e2:.006694380022903416},r.wgs84={a:6378137,f:.0033528106647474805,invf:298.257223563,e:.08181919084262149,e2:.0066943799901413165},a["default"]=r,e.exports=a["default"]},{}],6:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e["default"]=t,e}Object.defineProperty(a,"__esModule",{value:!0});var n=t("./common"),u=o(n),i=t("./earth"),l=r(i),s=t("./time"),f=r(s),d={common:u,earth:l["default"],time:f["default"]};a["default"]=d,e.exports=a["default"]},{"./common":4,"./earth":5,"./time":7}],7:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={MJDJD:-2400000.5,TTTAI:32.184,DUT1:-.5,TAIUTC:35,TAIGPS:19};a["default"]=r,e.exports=a["default"]},{}],8:[function(t,e,a){"use strict";"undefined"==typeof Math.hypot&&(Math.hypot=function r(t,e){for(var a=0,r=arguments.length,o=r,n=Array(r),u=0,i;r--;){if(i=n[r]=Math.abs(arguments[r]),i==1/0)return 1/0;i>u&&(u=i)}for(u=u||1;o--;)a+=Math.pow(n[o]/u,2);return u*Math.sqrt(a)})},{}],9:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(a,"__esModule",{value:!0});var o=t("./keplerian"),n=r(o),u=t("./keplerEquation"),i=r(u),l=t("./stateToKepler"),s=r(l),f={keplerian:n["default"],simple:n["default"],keplerEquation:i["default"],stateToKepler:s["default"]};a["default"]=f,e.exports=a["default"]},{"./keplerEquation":10,"./keplerian":11,"./stateToKepler":12}],10:[function(t,e,a){"use strict";function r(t,e){var a=void 0===arguments[2]?1e-18:arguments[2],r=void 0===arguments[3]?100:arguments[3],o;o=.8>t?e:Math.PI;for(var n=1,u=0;Math.abs(n)>a&&r>u;)n=(e+t*Math.sin(o)-o)/(1-t*Math.cos(o)),o+=n,u++;return o}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,e.exports=a["default"]},{}],11:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,a,r,o,n,i,f,d,c){var M=void 0===arguments[7]?0:arguments[7],h=u["default"].earth.GM;d&&(h=u["default"].common.G*d),c&&(h=u["default"].common.G*(d+c));var p=t*(1-Math.pow(e,2)),T=Math.sqrt(h/Math.pow(t,3)),v=M+T*(n-i),m=l["default"](e,v),_=2*Math.atan(Math.sqrt((1+e)/(1-e))*Math.tan(m/2)),g=p/(1+e*Math.cos(_)),P=[g*Math.cos(_),g*Math.sin(_),0],y=[-Math.sqrt(h/p)*Math.sin(_),Math.sqrt(h/p)*(e+Math.cos(_)),0];return[s.orbitalPlaneToInertial(P,r,o,a),s.orbitalPlaneToInertial(y,r,o,a)]}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=o;var n=t("../constants"),u=r(n),i=t("./keplerEquation"),l=r(i),s=t("../transformations/orbitalPlaneToInertial");e.exports=a["default"]},{"../constants":6,"../transformations/orbitalPlaneToInertial":21,"./keplerEquation":10}],12:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}function n(t,e,a,r,n){var u;u=r&&n?s["default"].common.G*(r+n):r?s["default"].common.G*r:s["default"].earth.GM;var l=i["default"].cross(t,e),f=Math.atan2(l[0],-l[1]),d=Math.atan2(Math.hypot.apply(Math,o(l.slice(0,2))),l[2]),c=i["default"].dot(l,l)/u,M=Math.hypot.apply(Math,o(t)),h=Math.sqrt(c/u*Math.pow(i["default"].dot(t,e)/M,2)+Math.pow(c/M-1,2)),p=Math.atan2(Math.sqrt(c/u)*i["default"].dot(t,e),c-M),T=i["default"].mm(i["default"].r(d,1),i["default"].mm(i["default"].r(f,3),t)),v=Math.atan2(T[1],T[0])-p;if(1>h){var m=c/(1-Math.pow(h,2)),_=2*Math.atan(Math.sqrt((1-h)/(1+h))*Math.tan(p/2)),g=a-Math.sqrt(Math.pow(m,3)/u)*(_-h*Math.sin(_));return[m,h,d,f,v,g]}if(h>1){var m=c/(Math.pow(h,2)-1),P=2*Math.atanh(Math.sqrt((1-h)/(1+h))*Math.tan(p/2)),g=a+Math.sqrt(Math.pow(m,3)/u)*(P-h*Math.sinh(P));return[m,h,d,f,v,g]}if(1===h){var g=a-.5*Math.sqrt(Math.pow(c,3)/u)*(Math.tan(p/2)+1/3*Math.pow(Math.tan(p/2),3));return[c,h,d,f,v,g]}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=n;var u=t("../vector"),i=r(u),l=t("../constants"),s=r(l);e.exports=a["default"]},{"../constants":6,"../vector":26}],13:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return t+v["default"].MJDJD}function n(t){return t-v["default"].MJDJD}function u(t){return t+v["default"].TTTAI}function i(t){return t-v["default"].TTTAI}function l(t){return t-p["default"](new Date(1e3*t))}function s(t){return t+p["default"](new Date(1e3*t))}function f(t){return t-v["default"].TAIGPS}function d(t){return t+v["default"].TAIGPS}function c(t){return f(s(t))}function M(t){return l(d(t))}Object.defineProperty(a,"__esModule",{value:!0}),a.JDtoMJD=o,a.MJDtoJD=n,a.TAItoTT=u,a.TTtoTAI=i,a.TAItoUTC=l,a.UTCtoTAI=s,a.TAItoGPS=f,a.GPStoTAI=d,a.UTCtoGPS=c,a.GPStoUTC=M;var h=t("leapseconds"),p=r(h),T=t("../constants/time"),v=r(T)},{"../constants/time":7,leapseconds:1}],14:[function(t,e,a){"use strict";function r(t){var e=void 0,a=void 0,r=void 0,o=void 0;if(t instanceof Array)e=t[0],a=t[1],r=t[2],o=t[3]+t[4]/60+t[5]/3600;else{if(!(t instanceof Date||"number"==typeof t))throw new Error("date is of invalid type");e=t.getUTCFullYear(),a=t.getUTCMonth()+1,r=t.getUTCDate(),o=t.getUTCHours()+t.getUTCMinutes()/60+t.getUTCSeconds()/3600}var n=a>2?e:e-1,u=a>2?a:a+12,i=2-Math.floor(n/100)+Math.floor(n/400),l=Math.floor(365.25*n)+Math.floor(30.6001*(u+1))+r+i+1720994.5;return l+o/24}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,e.exports=a["default"]},{}],15:[function(t,e,a){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(a,"__esModule",{value:!0});var n=t("leapseconds"),u=o(n),i=t("./conversions"),l=r(i),s=t("./dateToJD"),f=o(s),d={leapSeconds:u["default"],dateToJD:f["default"]};for(var c in l)d[c]=l[c];a["default"]=d,e.exports=a["default"]},{"./conversions":13,"./dateToJD":14,leapseconds:1}],16:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=void 0===arguments[1]?i["default"].a:arguments[1],a=void 0===arguments[2]?i["default"].e:arguments[2],r=Math.sqrt(Math.pow(e,2)*(1-Math.pow(a,2)));return[e*Math.cos(t[1])*Math.cos(t[0]),e*Math.cos(t[1])*Math.sin(t[0]),r*Math.sin(t[1])]}function n(t){var e=void 0===arguments[1]?i["default"].a:arguments[1],a=void 0===arguments[2]?i["default"].e:arguments[2],r=Math.hypot(t[0],t[1]),o=Math.sqrt(Math.pow(e,2)*(1-Math.pow(a,2)));return[Math.atan2(t[1],t[0]),Math.atan2(t[2]*e,r*o)]}Object.defineProperty(a,"__esModule",{value:!0}),a.ellipsoidalToCartesian=o,a.cartesianToEllipsoidal=n;var u=t("../constants/earth"),i=r(u)},{"../constants/earth":5}],17:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,a,r,o){var n=void 0===arguments[2]?i["default"].a:arguments[2],u=void 0===arguments[3]?i["default"].e:arguments[3],s=l.geodeticToCartesian(e,n,u),d=t.map(function(t,e){return t-s[e]}),c;return c=o?f["default"].mm(f["default"].r(Math.PI/2-e[1],2),f["default"].r(e[0],3)):f["default"].mm(f["default"].q(1),f["default"].mm(f["default"].r(Math.PI/2-e[1],2),f["default"].r(e[0],3))),f["default"].mm(c,d)}function n(t,e,a,r,o){var n=void 0===arguments[2]?i["default"].a:arguments[2],u=void 0===arguments[3]?i["default"].e:arguments[3],s=l.geodeticToCartesian(e,n,u),d;d=o?f["default"].mm(f["default"].r(-e[0],3),f["default"].r(e[1]-Math.PI/2,2)):f["default"].mm(f["default"].mm(f["default"].r(-e[0],3),f["default"].r(e[1]-Math.PI/2,2)),f["default"].q(1));var c=f["default"].mm(d,t);return c.map(function(t,e){return t+s[e]})}Object.defineProperty(a,"__esModule",{value:!0}),a.fixedToTopocentric=o,a.topocentricToFixed=n;var u=t("../constants/earth"),i=r(u),l=t("./geodetic"),s=t("../vector"),f=r(s)},{"../constants/earth":5,"../vector":26,"./geodetic":18}],18:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=void 0===arguments[1]?i["default"].a:arguments[1],a=void 0===arguments[2]?i["default"].e:arguments[2],r=e/Math.sqrt(1-Math.pow(a*Math.sin(t[1]),2));return[(r+t[2])*Math.cos(t[1])*Math.cos(t[0]),(r+t[2])*Math.cos(t[1])*Math.sin(t[0]),(r*(1-Math.pow(a,2))+t[2])*Math.sin(t[1])]}function n(t){for(var e=void 0===arguments[1]?i["default"].a:arguments[1],a=void 0===arguments[2]?i["default"].e:arguments[2],r=Math.atan2(t[1],t[0]),o=Math.hypot(t[0],t[1]),n=Math.atan2(t[2],o),u,l,s,f=0;100>f&&(u=e/Math.sqrt(1-Math.pow(a*Math.sin(n),2)),s=t[2]+Math.pow(a,2)*u*Math.sin(n),l=Math.atan2(s,o),!(Math.abs(l-n)<1e-15));)n=l,f++;var d=o/Math.cos(l)-u;return[r,l,d]}Object.defineProperty(a,"__esModule",{value:!0}),a.geodeticToCartesian=o,a.cartesianToGeodetic=n;var u=t("../constants/earth"),i=r(u)},{"../constants/earth":5}],19:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./spherical"),o=t("./ellipsoidal"),n=t("./geodetic"),u=t("./fixedToTopocentric"),i=t("./inertialToFixed"),l=t("./orbitalPlaneToInertial"),s=t("./topocentricToHorizontal"),f={sphericalToCartesian:r.sphericalToCartesian,cartesianToSpherical:r.cartesianToSpherical,ellipsoidalToCartesian:o.ellipsoidalToCartesian,cartesianToEllipsoidal:o.cartesianToEllipsoidal,geodeticToCartesian:n.geodeticToCartesian,cartesianToGeodetic:n.cartesianToGeodetic,fixedToTopocentric:u.fixedToTopocentric,topocentricToFixed:u.topocentricToFixed,inertialToFixed:i.inertialToFixed,fixedToInertial:i.fixedToInertial,orbitalPlaneToInertial:l.orbitalPlaneToInertial,topocentricToHorizontal:s.topocentricToHorizontal,horizontalToTopocentric:s.horizontalToTopocentric};a["default"]=f,e.exports=a["default"]},{"./ellipsoidal":16,"./fixedToTopocentric":17,"./geodetic":18,"./inertialToFixed":20,"./orbitalPlaneToInertial":21,"./spherical":22,"./topocentricToHorizontal":23}],20:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var a=void 0===arguments[2]?i["default"].ω:arguments[2],r=void 0===arguments[3]?3:arguments[3];return s["default"].mm(s["default"].r(a*e,3),t)}function n(t,e,a,r){return o(t,e,-a,r)}Object.defineProperty(a,"__esModule",{value:!0}),a.inertialToFixed=o,a.fixedToInertial=n;var u=t("../constants/earth"),i=r(u),l=t("../vector"),s=r(l)},{"../constants/earth":5,"../vector":26}],21:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,a,r){return u["default"].mm(u["default"].r(-e,3),u["default"].mm(u["default"].r(-r,1),u["default"].mm(u["default"].r(-a,3),t)))}Object.defineProperty(a,"__esModule",{value:!0}),a.orbitalPlaneToInertial=o;var n=t("../vector"),u=r(n)},{"../vector":26}],22:[function(t,e,a){"use strict";function r(t){return[t[2]*Math.cos(t[1])*Math.cos(t[0]),t[2]*Math.cos(t[1])*Math.sin(t[0]),t[2]*Math.sin(t[1])]}function o(t){return[Math.atan2(t[1],t[0]),Math.atan2(t[2],Math.sqrt(t[0]*t[0]+t[1]*t[1])),Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])]}Object.defineProperty(a,"__esModule",{value:!0}),a.sphericalToCartesian=r,a.cartesianToSpherical=o},{}],23:[function(t,e,a){"use strict";function r(t){var e=(2*Math.PI+Math.atan2(t[1],t[0]))%(2*Math.PI);return[e,Math.atan2(t[2],Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))),Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))]}function o(t){return[t[2]*Math.cos(t[1])*Math.cos(t[0]),t[2]*Math.cos(t[1])*Math.sin(t[0]),t[2]*Math.sin(t[1])]}Object.defineProperty(a,"__esModule",{value:!0}),a.topocentricToHorizontal=r,a.horizontalToTopocentric=o},{}],24:[function(t,e,a){"use strict";function r(t,e){if(3===t.length&&3===e.length)return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]];throw new Error("unsupported vector sizes")}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,e.exports=a["default"]},{}],25:[function(t,e,a){"use strict";function r(t,e){if(t.length!==e.length)throw new Error("Vectors have different sizes");return t.reduce(function(a,r,o){return a+t[o]*e[o]},0)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,e.exports=a["default"]},{}],26:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(a,"__esModule",{value:!0});var o=t("./matrixMultiplication"),n=r(o),u=t("./mirrorMatrix"),i=r(u),l=t("./rotationMatrix"),s=r(l),f=t("./crossProduct"),d=r(f),c=t("./dotProduct"),M=r(c),h={matrixMultiplication:n["default"],mm:n["default"],mirrorMatrix:i["default"],q:i["default"],rotationMatrix:s["default"],r:s["default"],crossProduct:d["default"],cross:d["default"],dotProduct:M["default"],dot:M["default"]};a["default"]=h,e.exports=a["default"]},{"./crossProduct":24,"./dotProduct":25,"./matrixMultiplication":27,"./mirrorMatrix":28,"./rotationMatrix":29}],27:[function(t,e,a){"use strict";function r(t,e){return 9===e.length?[t[0]*e[0]+t[1]*e[3]+t[2]*e[6],t[0]*e[1]+t[1]*e[4]+t[2]*e[7],t[0]*e[2]+t[1]*e[5]+t[2]*e[8],t[3]*e[0]+t[4]*e[3]+t[5]*e[6],t[3]*e[1]+t[4]*e[4]+t[5]*e[7],t[3]*e[2]+t[4]*e[5]+t[5]*e[8],t[6]*e[0]+t[7]*e[3]+t[8]*e[6],t[6]*e[1]+t[7]*e[4]+t[8]*e[7],t[6]*e[2]+t[7]*e[5]+t[8]*e[8]]:3===e.length?[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]:null}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,e.exports=a["default"]},{}],28:[function(t,e,a){"use strict";function r(t){var e=[1,0,0,0,1,0,0,0,1];return e[4*--t]*=-1,e}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,e.exports=a["default"]},{}],29:[function(t,e,a){"use strict";function r(t,e){t%=2*Math.PI;var a,r;switch(0===t?(a=1,r=0):t===Math.PI/2||t===-1.5*Math.PI?(a=0,r=1):t===Math.PI||t===-Math.PI?(a=-1,r=0):t===1.5*Math.PI||t===-Math.PI/2?(a=0,r=-1):(a=Math.cos(t),r=Math.sin(t)),e){case 1:return[1,0,0,0,a,r,0,-r,a];case 2:return[a,0,-r,0,1,0,r,0,a];case 3:return[a,r,0,-r,a,0,0,0,1];default:throw new Error("rotation axis has to be 1, 2 or 3")}}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=r,e.exports=a["default"]},{}],30:[function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(a,"__esModule",{value:!0}),t("./polyfill");var o=t("./common"),n=r(o),u=t("./constants"),i=r(u),l=t("./time"),s=r(l),f=t("./vector"),d=r(f),c=t("./transformations"),M=r(c),h=t("./position"),p=r(h),T="0.2.0",v={version:T,common:n["default"],constants:i["default"],time:s["default"],vector:d["default"],v:d["default"],transformations:M["default"],position:p["default"]};a["default"]=v,e.exports=a["default"]},{"./common":3,"./constants":6,"./polyfill":8,"./position":9,"./time":15,"./transformations":19,"./vector":26}]},{},[30])(30)});
//# sourceMappingURL=orb.min.js.map